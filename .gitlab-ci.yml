variables:
  GOPATH: "$CI_PROJECT_DIR/.go"
  PATH: "$PATH:$GOPATH/bin"

cache:
  paths:
    - .go/pkg/mod

build:
  image: golang:1.11.5
  script:
    - make install

test:
  image: golang:1.11.5
  script:
    - make test
  artifacts:
    reports:
      junit: "TEST_*.xml"

lint:
  image: golang:1.11.5
  script:
    - make lint
